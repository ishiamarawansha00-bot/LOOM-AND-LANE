<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Loom & Lane — Checkout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/4e9a8e0d2b.js" crossorigin="anonymous"></script>
</head>
<body>
  <nav class="navbar navbar-expand-lg px-3">
    <a class="navbar-brand" href="index.html">Loom & Lane</a>
    <div class="ms-auto d-flex align-items-center gap-3">
      <label class="form-check form-switch mb-0">
        <input class="form-check-input" type="checkbox" id="darkModeToggle">
        <span class="ms-1">Dark</span>
      </label>
      <a href="cart.html" class="btn btn-outline-secondary">
        <i class="fa-solid fa-cart-shopping"></i>
        <span class="ms-1">Cart</span>
        <span id="cartCount" class="badge text-bg-secondary ms-2">0</span>
      </a>
    </div>
  </nav>

  <main class="container my-4">
    <h2>Checkout</h2>
    <div class="row">
      <div class="col-lg-7">
        <form id="checkoutForm">
          <div class="form-section">
            <h5>Customer details</h5>
            <div class="mb-2">
              <label class="form-label">Full name</label>
              <input id="cName" type="text" class="form-control">
              <div class="error-text"></div>
            </div>
            <div class="mb-2">
              <label class="form-label">Email</label>
              <input id="cEmail" type="email" class="form-control">
              <div class="error-text"></div>
            </div>
            <div class="mb-2">
              <label class="form-label">Phone</label>
              <input id="cPhone" type="tel" class="form-control">
              <div class="error-text"></div>
            </div>
            <div class="mb-2">
              <label class="form-label">Address</label>
              <input id="cAddress" type="text" class="form-control">
              <div class="error-text"></div>
            </div>
          </div>

          <div class="form-section">
            <h5>Shipping</h5>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="shipping" id="shipStandard" value="standard">
              <label class="form-check-label" for="shipStandard">Standard (3–5 days) — $5</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="shipping" id="shipExpress" value="express">
              <label class="form-check-label" for="shipExpress">Express (1–2 days) — $12</label>
            </div>
          </div>

          <div class="form-section">
            <h5>Payment (mock)</h5>
            <div class="mb-2">
              <label class="form-label">Name on card</label>
              <input id="pName" type="text" class="form-control">
              <div class="error-text"></div>
            </div>
            <div class="mb-2">
              <label class="form-label">Card number</label>
              <input id="pCard" type="text" class="form-control" inputmode="numeric">
              <div class="error-text"></div>
            </div>
            <div class="mb-2">
              <label class="form-label">Expiry (MM/YY)</label>
              <input id="pExp" type="text" class="form-control" placeholder="MM/YY">
              <div class="error-text"></div>
            </div>
          </div>

          <button id="confirmOrder" class="btn-accent" type="submit" disabled>Confirm order</button>
        </form>
      </div>
      <div class="col-lg-5">
        <div class="total-box">
          <h5>Order summary</h5>
          <div id="summaryItems"></div>
          <hr>
          <div class="d-flex justify-content-between"><span>Subtotal</span><strong id="sumSubtotal">$0.00</strong></div>
          <div class="d-flex justify-content-between"><span>Estimated tax</span><strong id="sumTax">$0.00</strong></div>
          <div class="d-flex justify-content-between"><span>Estimated shipping</span><strong id="sumShip">$0.00</strong></div>
          <div class="d-flex justify-content-between mt-2"><span>Total</span><strong id="sumTotal">$0.00</strong></div>
        </div>
      </div>
    </div>
  </main>
  <!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css" />
</head>
    <body>
  <!--chat bot icon setup-->
  <div class="ai-assistant-icon1" id="chatbotToggle1" title="AI Assistant">
    <img src="pictures/4to22.jpg.jpg" alt="AI Assistant" class="chatbot-photo1">
  </div>

  <!--chat bot setup-->
  <div id="chatbot1">
    <div class="chat-header1">
      AI Assistant
      <span id="closeChat1">&times;</span>
    </div>
    <div class="chat-body1" id="chatBody1"></div>
    <div class="chat-footer1">
      <input type="text" id="userInput1" placeholder="Type a message...">
      <button id="sendBtn1">Send</button>
    </div>
  </div>
 
 <script src="chatbot.js"></script>  <!--js linking-->

  

  <footer class="footer">
    <div class="container d-flex justify-content-between">
      <div><strong>Loom & Lane</strong></div>
      <div><a href="#">Help</a> · <a href="#">Privacy</a></div>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="script.js"></script>
  <script>
    // Inline summary loader for checkout
    document.addEventListener('DOMContentLoaded', () => {
      const cart = JSON.parse(localStorage.getItem('cart') || '[]');
      const summaryItems = document.getElementById('summaryItems');
      if (cart.length === 0) {
        summaryItems.innerHTML = '<p>No items.</p>';
      } else {
        summaryItems.innerHTML = cart.map(i => `
          <div class="d-flex justify-content-between">
            <span>${i.name} × ${i.qty}</span>
            <span>$${(i.price * i.qty).toFixed(2)}</span>
          </div>
        `).join('');
      }
      const subtotal = cart.reduce((s,i) => s + i.price * i.qty, 0);
      const tax = +(subtotal * 0.08).toFixed(2);
      const ship = subtotal > 60 ? 0 : 5;
      const total = +(subtotal + tax + ship).toFixed(2);
      document.getElementById('sumSubtotal').textContent = `$${subtotal.toFixed(2)}`;
      document.getElementById('sumTax').textContent = `$${tax.toFixed(2)}`;
      document.getElementById('sumShip').textContent = `$${ship.toFixed(2)}`;
      document.getElementById('sumTotal').textContent = `$${total.toFixed(2)}`;
    });
  </script>
</body>
</html>